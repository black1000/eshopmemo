<div class="container mx-auto px-4">
  <h1 class="text-2xl font-bold text-gray-800 mb-6 text-center">
    商品メモ追加
  </h1>

  <div class="bg-white rounded-xl shadow p-6 max-w-xl mx-auto">

    <%= form_with(model: @item, local: true) do |f| %>

      <!-- URL -->
      <div class="mb-4">
        <%= f.label :url, "商品URL", class: "block text-sm font-medium text-gray-700 mb-1" %>
        <%= f.text_field :url, required: true,
          class: "border-2 border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 w-full",
          placeholder: "商品ページのURLを入力" %>
      </div>

      <!-- タイトル -->
      <div class="mb-4">
        <%= f.label :title, "タイトル", class: "block text-sm font-medium text-gray-700 mb-1" %>
        <%= f.text_field :title,
          class: "border-2 border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 w-full",
          placeholder: "商品タイトルを入力" %>
      </div>

      <!-- 画像 -->
      <div class="mb-4">
        <%= f.label :image, "商品画像", class: "block text-sm font-medium text-gray-700 mb-1" %>
        <%= f.file_field :image, accept: 'image/jpeg,image/gif,image/png',
          class: "mt-1 block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 focus:outline-none" %>
        <p class="mt-1 text-xs text-gray-500">※ 画像がない場合は自動でOGP画像が設定されます。</p>
      </div>

      <!-- メモ -->
      <div class="mb-4">
        <%= f.label :memo, "メモ", class: "block text-sm font-medium text-gray-700 mb-1" %>
        <%= f.text_area :memo, 
              rows: 4,
              maxlength: 20,
          class: "border-2 border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 w-full",
          placeholder: "メモ（30文字以内）" %>
      </div>

      <!-- タグ -->
      <div class="mb-4">
        <%= f.label :tag_id, "既存タグを選択", class: "block mb-1" %>
        <%= f.collection_select :tag_id,
          current_user.tags, :id, :name,
          { include_blank: "タグなし" },
          class: "w-full border rounded px-2 py-1" %>
      </div>

      <div class="mb-4">
        <%= f.label :new_tag, "新しいタグを作成", class: "block mb-1" %>
        <%= f.text_field :new_tag, placeholder: "新しいタグ名を入力", class: "w-full border rounded px-2 py-1" %>
      </div>

      <div class="mb-4">
        <%= f.label :scheduled_date, "リマインダー日", class: "block text-sm font-medium text-gray-700 mb-1" %>
        <%= f.date_field :scheduled_date,
        class:  "border-2 border-yellow-300 rounded-mb px-3 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 w-full" %>
      </div>

      <!-- ボタン -->
      <div class="flex items-center gap-4">
        <%= f.submit "追加する",
          class: "w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold px-4 py-2 rounded-lg shadow cursor-pointer transition duration-150" %>

        <%= link_to "戻る", items_path,
          class: "hidden sm:block bg-gray-500 hover:bg-gray-600 text-white font-semibold px-4 py-2 rounded-lg shadow transition duration-150" %>
      </div>

    <% end %>
  </div>
</div>
